[1mdiff --git a/.gitignore b/.gitignore[m
[1mindex 4db92ec..0b5cece 100644[m
[1m--- a/.gitignore[m
[1m+++ b/.gitignore[m
[36m@@ -27,3 +27,13 @@[m [msource/test/*[m
 terraform.tfvars[m
 terraform.tfvars.json[m
 .terraform.lock.hcl[m
[32m+[m[32m# IDEs and editors[m
[32m+[m[32m.vscode/[m
[32m+[m[32m.idea/[m
[32m+[m[32m*.suo[m
[32m+[m[32m*.ntvs*[m
[32m+[m[32m*.njsproj[m
[32m+[m[32m.venv/[m
[41m+[m
[41m+[m
[41m+[m
[1mdiff --git a/CHANGELOG.md b/CHANGELOG.md[m
[1mdeleted file mode 100644[m
[1mindex d0b3382..0000000[m
[1m--- a/CHANGELOG.md[m
[1m+++ /dev/null[m
[36m@@ -1,244 +0,0 @@[m
[31m-# Change Log[m
[31m-[m
[31m-All notable changes to this project will be documented in this file.[m
[31m-[m
[31m-The format is based on [Keep a Changelog](https://keepachangelog.com/en/1.0.0/),[m
[31m-and this project adheres to [Semantic Versioning](https://semver.org/spec/v2.0.0.html).[m
[31m-[m
[31m-## [4.2.15] - 2025-12-09[m
[31m-[m
[31m-### Security[m
[31m-[m
[31m-- Security updates for npm packages[m
[31m-[m
[31m-## [4.2.14] - 2025-09-24[m
[31m-[m
[31m-### Security[m
[31m-[m
[31m-- Security updates for npm packages[m
[31m-[m
[31m-## [4.2.13] - 2025-08-01[m
[31m-[m
[31m-### Removed[m
[31m-[m
[31m-- AppRegistry removed from solution[m
[31m-[m
[31m-### Security[m
[31m-[m
[31m-- Security updates for npm packages[m
[31m-- Update Lambda Runtimes to NodeJS 22[m
[31m-[m
[31m-## [4.2.12] - 2025-03-14[m
[31m-[m
[31m-### Security[m
[31m-[m
[31m-- Security updates for npm packages[m
[31m-[m
[31m-## [4.2.11] - 2024-11-21[m
[31m-[m
[31m-### Security[m
[31m-[m
[31m-- Security updates for npm packages[m
[31m-[m
[31m-## [4.2.10] - 2024-10-31[m
[31m-[m
[31m-### Fixed[m
[31m-[m
[31m-- Fixed an issue where MediaLive Thumbnails didn't display for any channel[m
[31m-[m
[31m-### Security[m
[31m-[m
[31m-- Security updates for npm packages[m
[31m-[m
[31m-## [4.2.9] - 2024-10-01[m
[31m-[m
[31m-### Security[m
[31m-[m
[31m-- Security updates for npm packages[m
[31m-[m
[31m-## [4.2.8] - 2024-09-17[m
[31m-[m
[31m-### Security[m
[31m-[m
[31m-- Security updates for npm packages[m
[31m-[m
[31m-## [4.2.7] - 2024-08-22[m
[31m-[m
[31m-### Security[m
[31m-[m
[31m-- Security updates for npm packages[m
[31m-[m
[31m-## [4.2.6] - 2024-08-09[m
[31m-[m
[31m-### Security[m
[31m-[m
[31m-- Upgraded vulnerable packages[m
[31m-[m
[31m-## [4.2.5] - 2024-07-02[m
[31m-[m
[31m-### Security[m
[31m-[m
[31m-- Security updates for npm packages[m
[31m-[m
[31m-## [4.2.4] - 2024-03-29[m
[31m-[m
[31m-### Security[m
[31m-[m
[31m-- Security updates for npm packages[m
[31m-[m
[31m-## [4.2.3] - 2023-10-30[m
[31m-[m
[31m-### Security[m
[31m-[m
[31m-- Security updates for npm packages[m
[31m-[m
[31m-## [4.2.2] - 2023-08-07[m
[31m-[m
[31m-### Security[m
[31m-[m
[31m-- Updated npm packages[m
[31m-- Upgraded lambda runtimes to NodeJS 18 and AWS SDK v3[m
[31m-[m
[31m-### Fixed[m
[31m-[m
[31m-- Fixed an issue where anonymized data was sent even when customers opted out[m
[31m-[m
[31m-## [4.2.1] - 2023-04-17[m
[31m-[m
[31m-### Changed[m
[31m-[m
[31m-- Updated object ownership configuration on the CloudFormation logging bucket.[m
[31m-- Updated aws-cloudfront-s3 construct to support new bucket ACL changes.[m
[31m-[m
[31m-## [4.2.0] - 2023-04-10[m
[31m-[m
[31m-### Added[m
[31m-[m
[31m-- Converted project from CDK 1 to CDK 2 project.[m
[31m-[m
[31m-### Changed[m
[31m-[m
[31m-- Upgraded multiple nodejs packages to improve security.[m
[31m-- Upgraded Lambda runtimes to node 18 from node 12.[m
[31m-- Added region name to CachePolicy to allow unique name for multiple stacks with the same stack name in different regions.[m
[31m-- Removed application insights[m
[31m-- MediaPackage IAM role more secure with scoped down privlages.[m
[31m-[m
[31m-### Contributors[m
[31m-[m
[31m-- @eggoynes[m
[31m-[m
[31m-## [4.1.0] - 2022-11-09[m
[31m-[m
[31m-### Added[m
[31m-[m
[31m-- Added Service Catalog AppRegistry Application resource[m
[31m-- Added Application Insights within the AppRegistry dashboard[m
[31m-[m
[31m-### Changed[m
[31m-[m
[31m-- Added stack name to CachePolicy to make unique name allowing for multiple concurrent stacks[m
[31m-- Added stack name to AppRegistry application name to allow for multiple concurrent stacks[m
[31m-[m
[31m-## [4.0.1] - 2022-08-03[m
[31m-[m
[31m-### Added[m
[31m-[m
[31m-- Added Service Catalog AppRegistry Application resource[m
[31m-[m
[31m-### Changed[m
[31m-[m
[31m-- Disabled versioning on buckets within the CloudFront to S3 construct[m
[31m-[m
[31m-## [4.0.0] - 2022-07-06[m
[31m-[m
[31m-### Added[m
[31m-[m
[31m-- Added cdk infrastructure in source/constructs directory[m
[31m-- Defined resources for cdk stack in source/constructs/lib/live-streaming.ts[m
[31m-- Added links to MediaLive and S3 consoles to CloudFormation Outputs[m
[31m-- Added links to metric dashboards for MediaLive and MediaPackage to CloudFormation Outputs[m
[31m-- Added SonarQube properties file: sonar-project.properties[m
[31m-- Added snapshot test to source/constructs/test directory[m
[31m-- Added cdk nag rule suppressions[m
[31m-- Added SolutionId tag to resources[m
[31m-[m
[31m-### Changed[m
[31m-[m
[31m-- Removed CloudFormation template live-streaming-on-aws.yaml[m
[31m-- Use CachePolicy instead of ForwardedValues(deprecated) for cloudfront distribution[m
[31m-- Use @aws-solutions-constructs/aws-cloudfront-s3 construct to deploy demo resources[m
[31m-- Updated deployment/run-unit-tests.sh to generate unit test coverage reports[m
[31m-- Updated deployment/build-s3-dist.sh to output cdk nag errors[m
[31m-- Updated source/custom-resource/lib/medialive/index.spec.js to increase unit test coverage[m
[31m-- Generate secret string for Cdn Secret resource using cdk instead of hard coding[m
[31m-- Upgrade path from old versions require a delete and re-deploy since moving to CDK[m
[31m-[m
[31m-### Contributors[m
[31m-[m
[31m-- @sandimciin[m
[31m-- @eggoynes[m
[31m-[m
[31m-## [3.1.1] - 2022-01-24[m
[31m-[m
[31m-### Changed[m
[31m-[m
[31m-- Follow Redirects updated to 1.14.7[m
[31m-- AWS SDK updated to 2.814.0[m
[31m-- Architecture diagram updated[m
[31m-[m
[31m-## [3.1.0] - 2021-11-12[m
[31m-[m
[31m-### Changed[m
[31m-[m
[31m-- Added additional permissions for AWS MediaLive IAM Policy. Now has CloudWatch, MediaConnect, and MediaStore access.[m
[31m-- Changed case of IAM policy <https://github.com/aws-solutions/live-stream-on-aws/pull/19>[m
[31m-[m
[31m-### Changed[m
[31m-[m
[31m-- Axios update to 0.21.2[m
[31m-- Tmpl update to 1.0.5[m
[31m-[m
[31m-### Fixed[m
[31m-[m
[31m-- Add new Permissions to the CloudFormation template that will allow customers to add tags on EML resources.[m
[31m-[m
[31m-## [3.0.0] - 2020-08-05[m
[31m-[m
[31m-### Changed[m
[31m-[m
[31m-- The AWS MediaLive default CloudFormation parameter for channel start has been changed to false.[m
[31m-[m
[31m-### Changed[m
[31m-[m
[31m-- The Amazon CloudFront distribution TTL values were modified to 1 second for all http error codes. 403, 404, 405, 500, 501, 503, and 504.[m
[31m-- Updated packages glob-parent, ssri, y18n, react-dev-utils, elliptic, axios, and others.[m
[31m-[m
[31m-### Fixed[m
[31m-[m
[31m-- Readme file updates.[m
[31m-- Removed Lambda from logging AWS MediaLive input details which could contain passwords.[m
[31m-[m
[31m-## [2.3.0] - 2019-10-30[m
[31m-[m
[31m-### Added[m
[31m-[m
[31m-- CHANGELOG version 2.3.0 release[m
[31m-- Lambda runtime update from Node8.10 to Node12.x, Python3.6 to Python3.8[m
[31m-- Demo Console deployed by default, previously an optional through cfn parameter but disabling teh console caused the stack to fail.[m
[31m-[m
[31m-## [2.4.0] - 2020-07-30[m
[31m-[m
[31m-### Added[m
[31m-[m
[31m-- Origin headers and Custom Error 404 TTL for CloudFront[m
[31m-- CDN Authorization for Elemental MediaPackage EndPoints[m
[31m-[m
[31m-### Changed[m
[31m-[m
[31m-- MediaLive Encoding now supports QVBR and 4 second segment sizes[m
[31m-- MediaLive with a new set of outputs 1920x1080, 1280x720, 960x540, 768x432, 640x360, 512x288[m
[31m-[m
[31m-### Removed[m
[31m-[m
[31m-- discontinued support for the python version of the CloudFormation custom resource.[m
[1mdiff --git a/GEMINI.md b/GEMINI.md[m
[1mnew file mode 100644[m
[1mindex 0000000..4b82152[m
[1m--- /dev/null[m
[1m+++ b/GEMINI.md[m
[36m@@ -0,0 +1,64 @@[m
[32m+[m[32m# Gemini Context[m
[32m+[m
[32m+[m[32mThis file provides context and instructions for the Gemini agent.[m
[32m+[m
[32m+[m[32m## About This Project[m
[32m+[m
[32m+[m[32mThis project is for deploying a live streaming solution on AWS using Terraform and AWS CDK.[m
[32m+[m
[32m+[m[32m## Key Technologies[m
[32m+[m
[32m+[m[32m*   **Infrastructure as Code:** Terraform, AWS CDK (TypeScript)[m
[32m+[m[32m*   **Frontend:** React (in `source/console`)[m
[32m+[m[32m*   **Backend/Custom Resources:** Node.js (in `source/custom-resource`)[m
[32m+[m[32m*   **AWS Services:** MediaLive, MediaPackage, S3, CloudFront, etc.[m
[32m+[m
[32m+[m[32m## How to Work with This Project[m
[32m+[m
[32m+[m[32m### Prerequisites[m
[32m+[m
[32m+[m[32m*   Node.js and npm[m
[32m+[m[32m*   Terraform[m
[32m+[m[32m*   AWS CLI, configured with credentials[m
[32m+[m
[32m+[m[32m### Development Setup[m
[32m+[m
[32m+[m[32m1.  **Install dependencies for Console:** `cd source/console && npm install`[m
[32m+[m[32m2.  **Install dependencies for Constructs:** `cd source/constructs && npm install`[m
[32m+[m[32m3.  **Install dependencies for Custom Resources:** `cd source/custom-resource && npm install`[m
[32m+[m
[32m+[m[32m### Building the Solution[m
[32m+[m
[32m+[m[32mThe solution is built using the scripts in the `deployment` directory.[m
[32m+[m
[32m+[m[32m*   `deployment/build-s3-dist.sh`: This script packages the frontend and other assets for S3 deployment.[m
[32m+[m[32m*   `deployment/cdk-solution-helper/index.js`: A helper for CDK deployments.[m
[32m+[m
[32m+[m[32m### Running Tests[m
[32m+[m
[32m+[m[32m*   `deployment/run-unit-tests.sh`: This script runs all unit tests for the custom resources and constructs.[m
[32m+[m[32m*   To run tests for a specific package, navigate to its directory and run `npm test`. For example, `cd source/constructs && npm test`.[m
[32m+[m
[32m+[m[32m### Deployment[m
[32m+[m
[32m+[m[32mThis project can be deployed using Terraform. The main Terraform files are in the `terraform/` directory.[m
[32m+[m
[32m+[m[32m`cd terraform`[m
[32m+[m[32m`terraform init`[m
[32m+[m[32m`terraform plan`[m
[32m+[m[32m`terraform apply`[m
[32m+[m
[32m+[m[32m## Architectural Overview[m
[32m+[m
[32m+[m[32m*   **`terraform/`**: Contains the root Terraform configuration to deploy the AWS resources.[m
[32m+[m[32m*   **`source/constructs/`**: An AWS CDK app that defines the core live streaming infrastructure (MediaLive, MediaPackage). This is likely called by Terraform.[m
[32m+[m[32m*   **`source/custom-resource/`**: Contains Lambda functions for custom resources needed during the deployment process, for tasks that are not natively supported by CloudFormation/Terraform.[m
[32m+[m[32m*   **`source/console/`**: A React-based web interface for managing or viewing the live stream.[m
[32m+[m
[32m+[m[32m## Agent Instructions & Goals[m
[32m+[m
[32m+[m[32m*   When asked to modify infrastructure, prefer using Terraform (`.tf` files).[m
[32m+[m[32m*   When asked to modify the core live streaming logic, look into `source/constructs/lib/live-streaming.ts`.[m
[32m+[m[32m*   Frontend changes will be in `source/console/src`.[m
[32m+[m[32m*   When adding new dependencies, update the `package.json` and run `npm install`.[m
[32m+[m[32m*   After any code change, run the relevant unit tests to ensure nothing is broken.[m
[1mdiff --git a/README.md b/README.md[m
[1mindex eb6f138..d809a24 100644[m
[1m--- a/README.md[m
[1m+++ b/README.md[m
[36m@@ -1,120 +1,394 @@[m
 # Deploy Live Streaming on AWS Using Terraform[m
 [m
[31m-How to implement Live streaming on AWS at scale leveraging AWS Elemental MediaLive, MediaPackage and Amazon CloudFront. This repo contains the source code for the AWS solution [Live Streaming on AWS](https://aws.amazon.com/solutions/implementations/live-streaming-on-aws/?did=sl_card&trk=sl_card).[m
[31m-[m
[31m-## Architecture Overview[m
[32m+[m[32m[![License](https://img.shields.io/badge/License-Apache%202.0-blue.svg)](LICENSE)[m
[32m+[m[32m[![Terraform](https://img.shields.io/badge/Terraform-%3E%3D1.0-623CE4)](https://www.terraform.io/)[m
[32m+[m[32m[![AWS](https://img.shields.io/badge/AWS-MediaServices-FF9900)](https://aws.amazon.com/)[m
[32m+[m
[32m+[m[32mA production-ready infrastructure-as-code solution for deploying scalable live streaming on AWS. This implementation leverages AWS Elemental MediaLive, MediaPackage, and Amazon CloudFront to deliver adaptive bitrate streaming content globally.[m
[32m+[m
[32m+[m[32mThis repository contains the source code for the AWS solution [Live Streaming on AWS](https://aws.amazon.com/solutions/implementations/live-streaming-on-aws/?did=sl_card&trk=sl_card).[m
[32m+[m
[32m+[m[32m## üìã Table of Contents[m
[32m+[m
[32m+[m[32m- [Features](#features)[m
[32m+[m[32m- [Architecture Overview](#architecture-overview)[m
[32m+[m[32m- [Prerequisites](#prerequisites)[m
[32m+[m[32m- [Quick Start](#quick-start)[m
[32m+[m[32m- [Encoding Profiles](#encoding-profiles)[m
[32m+[m[32m- [Deployment Guide](#deployment-guide)[m
[32m+[m[32m- [Configuration Options](#configuration-options)[m
[32m+[m[32m- [Monitoring and Troubleshooting](#monitoring-and-troubleshooting)[m
[32m+[m[32m- [Custom Build Instructions](#creating-a-custom-build)[m
[32m+[m[32m- [Cost Considerations](#cost-considerations)[m
[32m+[m[32m- [Contributing](#contributing)[m
[32m+[m[32m- [License](#license)[m
[32m+[m
[32m+[m[32m## ‚ú® Features[m
[32m+[m
[32m+[m[32m- **Multi-format streaming**: Supports HLS, DASH, CMAF, and Microsoft Smooth Streaming[m
[32m+[m[32m- **Adaptive bitrate encoding**: Automatic transcoding to multiple resolutions (1080p to 270p)[m
[32m+[m[32m- **Global content delivery**: CloudFront integration for low-latency worldwide distribution[m
[32m+[m[32m- **Flexible input sources**: Supports RTP, RTMP, HLS, and MediaConnect streams[m
[32m+[m[32m- **High availability**: Dual-pipeline architecture with automatic failover[m
[32m+[m[32m- **Infrastructure as Code**: Fully automated deployment using Terraform[m
[32m+[m[32m- **Demo player included**: Optional HTML5 preview player for testing[m
[32m+[m[32m- **Production-ready**: Battle-tested architecture from AWS Solutions Library[m
[32m+[m
[32m+[m[32m## üèóÔ∏è Architecture Overview[m
 [m
 ![Architecture](architecture.png)[m
 [m
[31m-**AWS Elemental MediaLive**<br/>[m
[31m-Is configured to ingest 2 live feeds and transcode the content into multiple adaptive bitrate HTTP live streaming (HLS) content.  The solution can be configured to ingest t Real-time Transport Protocol (RTP), Real-Time Messaging Protocol (RTMP), HTTP live streaming (HLS) and MediaConnect streams and will apply 1 of 3 encoding profiles which include bitrates of 1080p through 270p. The encoding profile is set at launch and is based on the source resolution (See Encoding Profiles below).[m
[32m+[m[32m### Components[m
[32m+[m
[32m+[m[32m#### AWS Elemental MediaLive[m
[32m+[m[32mIngests two live feeds for redundancy and transcodes content into multiple adaptive bitrate HLS streams. The solution supports various input protocols:[m
[32m+[m[32m- Real-Time Transport Protocol (RTP)[m
[32m+[m[32m- Real-Time Messaging Protocol (RTMP)[m
[32m+[m[32m- HTTP Live Streaming (HLS)[m
[32m+[m[32m- AWS 